(this.webpackJsonptestepraticohelpper=this.webpackJsonptestepraticohelpper||[]).push([[0],{47:function(e,t,a){},49:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a(1),o=a.n(n),s=a(35),i=a.n(s),c=(a(47),a(5)),u=a.n(c),l=a(6),d=a(8),m=a(12),p=a(13),g=a(17),b=a(15),f=(a(49),a(50),a(23),a(25),a(55),a(56),a(11)),h=a(16),j=a(36),v=a.n(j),O=a(20),x=a(40),C=a.n(x),N=a(7),P=a.n(N),q=N.initializeApp({apiKey:"AIzaSyCBhkG3FMQ42Mz3ZXc9IlNfsjSxrHKp3ho",authDomain:"testepraticohellper.firebaseapp.com",databaseURL:"https://testepraticohellper-default-rtdb.firebaseio.com",projectId:"testepraticohellper",storageBucket:"testepraticohellper.appspot.com",messagingSenderId:"416506166334",appId:"1:416506166334:web:cc6ebe80cb65878e2ca56f",measurementId:"G-52TSMT6QT6"}),A=N.auth(),F=N.firestore(),S=new N.auth.GoogleAuthProvider;S.setCustomParameters({prompt:"select_account"});var k=function(){return A.signInWithPopup(S)},I=function(){var e=Object(d.a)(u.a.mark((function e(t,a){var r,n,o,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return r=F.doc("users/".concat(t.uid)),e.next=5,r.get();case 5:if(e.sent.exists){e.next=17;break}return n=t.displayName,o=t.email,s=new Date,e.prev=9,e.next=12,r.set(Object(l.a)({displayName:n,email:o,createdAt:s},a));case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(9),console.log("error creating user",e.t0.message);case 17:return e.abrupt("return",r);case 18:case"end":return e.stop()}}),e,null,[[9,14]])})));return function(t,a){return e.apply(this,arguments)}}(),y=(q.database().ref(),function(e){Object(g.a)(a,e);var t=Object(b.a)(a);function a(e){var r;Object(m.a)(this,a),(r=t.call(this,e)).unsubscribeFromSnapshot=null;var n=r.props.steps;n.consent,n.fullname,n.emailcaptura,n.document,n.cpf,n.cnpj,n.cep,n.logradouro,n.bairro,n.localidade,n.uf,n.number;return r.state={consent:"",fullname:"",emailcaptura:"",document:"",cpf:"",cnpj:"",cep:"",logradouro:"",bairro:"",localidade:"",number:""},r}return Object(p.a)(a,[{key:"componentDidMount",value:function(){F.collection("users").onSnapshot(function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.docs.map((function(e){var t=e.data(),a=t.displayName,r=t.email;return{routeName:encodeURI(a.toLowerCase()),id:e.id,displayName:a,email:r}})).reduce((function(e,t){return e[t.displayName.toLowerCase()]=t,e}),{});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var e={consent:this.state.consent,fullname:this.state.fullname,emailcaptura:this.state.emailcaptura,document:this.state.document,cpf:this.state.cpf,cnpj:this.state.cnpj,cep:this.state.cep,logradouro:this.state.logradouro,bairro:this.state.bairro,localidade:this.state.localidade,uf:this.state.uf,number:this.state.number};C.a.post("/api",e).then((function(e){console.log(e.status)})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{children:"Obrigado! Seus dados foram enviados com sucesso!"}),Object(r.jsx)("section",{className:"center2",children:Object(r.jsx)("section",{children:Object(r.jsx)("input",{type:"submit",value:"SALVAR",className:"customButton2"})})})]})}}]),a}(n.Component)),E=(a(82),function(){var e=Object(n.useState)({}),t=Object(h.a)(e,2),a=(t[0],t[1]);Object(n.useEffect)((function(){P.a.database().ref().child("contacts").on("value",(function(e){null!=e.val()&&a(Object(l.a)({},e.val()))}))}),[]);return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"jumbo",children:Object(r.jsx)("div",{className:"container",children:Object(r.jsx)("h1",{className:"display",children:"Contatos Cadastrados"})})}),Object(r.jsxs)("div",{className:"row",children:[Object(r.jsx)("div",{className:"col-md-5",children:Object(r.jsx)(U,{addOrEdit:function(e){P.a.database().ref().child("contacts").push(e,(function(e){e&&console.log(e)}))}})}),Object(r.jsx)("div",{className:"col-md-7",children:Object(r.jsx)("div",{className:"list",children:"Lista de Contatos"})})]})]})}),w={background:"#f5f8fb",headerBgColor:"#14A939",headerFontColor:"#fff",headerFontSize:"15px",botBubbleColor:"#fff",botFontColor:"#000",userBubbleColor:"#14A939",userFontColor:"#fff"},B={width:"400px",height:"500px",floating:!0,hideUserAvatar:!0,placeholder:"Escreva aqui.",headerTitle:"Formul\xe1rio de cadastro Helpper"},U=function(e){var t=Object(n.useState)({consent:"",fullname:"",emailcaptura:"",document:"",cpf:"",cnpj:"",cep:"",logradouro:"",bairro:"",localidade:"",uf:"",number:""}),a=Object(h.a)(t,2),o=a[0],s=a[1],i=function(e){var t=e.target,a=t.name,r=t.value;s(Object(l.a)(Object(l.a)({},o),{},Object(f.a)({},a,r)))};return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("form",{children:Object(r.jsx)(O.ThemeProvider,{theme:w,children:Object(r.jsx)(v.a,Object(l.a)({onSubmit:function(t){t.preventDefault(),e.addOrEdit(o)},steps:[{id:"welcome",message:"Ol\xe1, sou a assitente virtual Helpper",trigger:"1"},{id:"1",message:"Antes de come\xe7armos, voc\xea concorda com os Termos de Uso, Polit\xedca de Privacidade, e Gerencie seus Cookies",trigger:"consent"},{id:"consent",options:[{value:"1",label:"Sim",trigger:"q-fullname"},{value:"0",label:"N\xe3o",trigger:"no-consent"}]},{id:"no-consent",message:"Que pena, n\xe3o poderemos prosseguir com o seu cadastro.",trigger:"reload"},{id:"reload",options:[{value:"reload",label:"Por favor me pergunte novamente",trigger:"1"}]},{id:"q-fullname",message:"Qual \xe9 seu nome completo?",trigger:"fullname"},{id:"fullname",user:!0,validator:function(e){return/^[A-Za-z0-9]+$/.test(e)?"Por favor apenas letras, seu nome e sobrenome":(onchange={handleInputChange:i},e=o.fullname,!0)},trigger:"q-email"},{id:"q-email",message:"Ol\xe1, {previousValue}. Qual \xe9 o seu email para cadastro?",trigger:"emailcaptura"},{id:"emailcaptura",user:!0,validator:function(e){return/^[a-zA-Z0-9]+@[a-zA-Z0-9]+\.[A-Za-z]+$/.test(e)?(onchange={handleInputChange:i},e=o.emailcaptura,!0):"Coloque um e-mail valido."},trigger:"q-document"},{id:"q-document",message:"Qual o seu tipo de documento?",trigger:"document"},{id:"document",options:[{value:"CPF",label:"CPF",trigger:"q-cpf"},{value:"CNPJ",label:"CNPJ",trigger:"q-cnpj"}]},{id:"q-cpf",message:"Qual o numero do seu CPF?Por favor digite sem pontos e tra\xe7os",trigger:"cpf"},{id:"cpf",user:!0,validator:function(e){if(11==e.length){var t=e.trim();t=(t=(t=t.replace(/\./g,"")).replace("-","")).split("");for(var a=0,r=0,n=!1,o=1;t.length>o;o++)t[o-1]!=t[o]&&(n=!0);if(0==n)return"CPF inv\xe1lido";o=0;for(var s=10;t.length-2>o;o++,s--)a+=t[o]*s;if(10==(a=10*a%11)&&(a=0),a!=t[9])return"CPF inv\xe1lido";for(o=0,s=11;t.length-1>o;o++,s--)r+=t[o]*s;return 10==(r=10*r%11)&&(r=0),r==t[10]||"CPF inv\xe1lido"}return"CPF deve conter 11 n\xfameros"},trigger:"q-cep"},{id:"q-cnpj",message:"Qual o numero do seu CNPJ?Por favor digite sem pontos e tra\xe7os",trigger:"cnpj"},{id:"cnpj",user:!0,validator:function(e){if(14==e.length){var t=e.trim();t=(t=(t=(t=t.replace(/\./g,"")).replace("-","")).replace("/","")).split("");for(var a=0,r=0,n=!1,o=1;t.length>o;o++)t[o-1]!=t[o]&&(n=!0);if(0==n)return"CNPJ inv\xe1lido";o=0;for(var s=5,i=13;t.length-2>o;o++,s--,i--)a+=s>=2?t[o]*s:t[o]*i;if((a=(a%=11)<2?0:11-a)!=t[12])return"CNPJ inv\xe1lido";for(o=0,s=6,i=14;t.length-1>o;o++,s--,i--)r+=s>=2?t[o]*s:t[o]*i;return(r=(r%=11)<2?0:11-r)==t[13]||"CNPJ inv\xe1lido"}return"CNPJ deve conter 14 n\xfameros"},trigger:"q-cep"},{id:"q-cep",message:"Estamos quase acabando. Digite o seu CEP neste formato: 12345-678",trigger:"cep"},{id:"cep",user:!0,validator:function(e){return 0==/^[0-9]{5}(?:-[0-9]{3})?$/.test(e)?"Por favor digite um CEP valido":(onchange={handleInputChange:i},e=o.cpf,!0)},trigger:"q-logradouro"},{id:"q-logradouro",message:"Qual o nome da sua rua?",trigger:"logradouro"},{id:"logradouro",user:!0,validator:function(e){return onchange={handleInputChange:i},o.logradouro,!0},trigger:"q-number"},{id:"q-number",message:"Qual o n\xfamero da sua resid\xeancia?",trigger:"number"},{id:"number",user:!0,validator:function(e){return onchange={handleInputChange:i},o.number,!0},trigger:"q-bairro"},{id:"q-bairro",message:"Seu Bairro?",trigger:"bairro"},{id:"bairro",user:!0,validator:function(e){return onchange={handleInputChange:i},o.bairro,!0},trigger:"q-city"},{id:"q-city",message:"Cidade em que mora?",trigger:"localidade"},{id:"localidade",user:!0,validator:function(e){return onchange={handleInputChange:i},o.localidade,!0},trigger:"q-states"},{id:"q-states",message:"Estado? Apenas a sigla Ex: SP para S\xe3o Paulo",trigger:"uf"},{id:"uf",user:!0,validator:function(e){return onchange={handleInputChange:i},o.uf,!0},trigger:"q-submit"},{id:"q-submit",message:"Prosseguir para o Envio dos seus dados?",trigger:"submit"},{id:"submit",options:[{value:"submit",label:"Yes",trigger:"end-message"},{value:"no",label:"No",trigger:"no-submit"}]},{id:"no-submit",message:"Suas informa\xe7\xf5es n\xe3o foram enviadas",end:!0},{id:"end-message",component:Object(r.jsx)(y,{}),asMessage:!0,end:!0}]},B))})})})},L=function(e){var t=e.currentUser;return Object(r.jsx)("div",{className:"header",children:t?Object(r.jsxs)("div",{className:"option",children:[Object(r.jsx)("div",{id:"signOut",className:"option",onClick:function(){return A.signOut()},alt:"sair do google",children:"SAIR DA CONTA GOOGLE"}),Object(r.jsx)("section",{children:Object(r.jsx)(U,{addOrEdit:E})})]}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{children:Object(r.jsx)("div",{className:"login",to:"/signin",children:"FA\xc7A O LOGIN PARA PREENCHER O FORMUL\xc1RIO"})}),Object(r.jsx)("section",{className:"center",children:Object(r.jsx)("section",{children:Object(r.jsx)("button",{className:"customButton",onClick:k,alt:"Bot\xe3o entrar com o google",children:"Entre com o Google"})})})]})})},Q=function(e){Object(g.a)(a,e);var t=Object(b.a)(a);function a(){var e;return Object(m.a)(this,a),(e=t.call(this)).unsubscribeFromAuth=null,e.state={currentUser:null},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.unsubscribeFromAuth=A.onAuthStateChanged(function(){var t=Object(d.a)(u.a.mark((function t(a){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a){t.next=7;break}return t.next=3,I(a);case 3:t.sent.onSnapshot((function(t){e.setState({currentUser:Object(l.a)({id:t.id},t.data())})})),t.next=8;break;case 7:e.setState({currentUser:a});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"componentWillUnmount",value:function(){this.unsubscribeFromAuth()}},{key:"render",value:function(){return Object(r.jsxs)("div",{className:"App",children:[Object(r.jsx)(L,{currentUser:this.state.currentUser}),Object(r.jsxs)("div",{className:"App-header",children:[Object(r.jsx)("a",{className:"App-link",href:"https://helpper.com.br/",target:"_blank",rel:"noopener noreferrer",children:Object(r.jsx)("section",{className:"logo",alt:"logo"})}),Object(r.jsx)("div",{}),Object(r.jsxs)("section",{className:"info",alt:"advert\xeancia",children:["Por favor, N\xe3o use suas informa\xe7\xf5es pessoais para fazer o teste do ChatBot formul\xe1rio,",Object(r.jsx)("br",{})," ex: nome, rua, numero"]})]})]})}}]),a}(o.a.Component),z=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,87)).then((function(t){var a=t.getCLS,r=t.getFID,n=t.getFCP,o=t.getLCP,s=t.getTTFB;a(e),r(e),n(e),o(e),s(e)}))};i.a.render(Object(r.jsx)(o.a.StrictMode,{children:Object(r.jsx)(Q,{})}),document.getElementById("root")),z()}},[[83,1,2]]]);
//# sourceMappingURL=main.dea2182b.chunk.js.map